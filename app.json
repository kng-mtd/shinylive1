[{"name":"server.R","content":"library(shiny)\r\nlibrary(shinydashboard)\r\nlibrary(tidyverse)\r\nlibrary(DT)\r\nlibrary(arsenal)\r\nlibrary(palmerpenguins)\r\n\r\nshinyServer(function(input,output,session){\r\n  options(shiny.maxRequestSize=1000*1024^2)\r\n  options(digits=3)\r\n\r\n  tb=reactive({\r\n    if(is.null(input$upld)){\r\n      return(penguins)\r\n    }else{\r\n      read_csv(input$upld$datapath)\r\n    }\r\n  })\r\n  \r\n  observeEvent(tb(),{\r\n    updateVarSelectInput(session,'var1',data=tb())\r\n    updateVarSelectInput(session,'var2',data=tb())\r\n    updateSliderInput(session,'row1',max=nrow(tb()))\r\n  })\r\n  \r\n  row1=eventReactive(input$update1,{\r\n    input$row1\r\n  })\r\n\r\n  output$val1=renderValueBox({\r\n    valueBox(\r\n      tb() %>% select(input$var1) %>% as.matrix() %>%\r\n        mean(na.rm=T) %>% format(digits=3),\r\n      str_c('value1 mean of ',as.character(input$var1)),\r\n      icon=icon('face-smile'),color='green')\r\n  })\r\n  \r\n  output$val2=renderValueBox({\r\n    valueBox(\r\n      tb() %>% select(input$var2) %>% as.matrix() %>%\r\n        mean(na.rm=T) %>% format(digits=3),\r\n      str_c('value2 mean of ',as.character(input$var2)),\r\n      icon=icon('face-smile'),color='yellow')\r\n  })\r\n  \r\n  output$val3=renderValueBox({\r\n    valueBox(\r\n      Sys.Date(),\r\n      'value3 today',\r\n      icon=icon('face-smile'),color='red')\r\n  })\r\n  \r\n  output$info1=renderInfoBox({\r\n    infoBox(\r\n      str_c('sd of ',as.character(input$var1)),\r\n      tb() %>% select(input$var1) %>% as.matrix() %>%\r\n        sd(na.rm=T) %>% format(digits=3),\r\n      'description',\r\n      icon=icon('face-smile'),color='green')\r\n  })\r\n  \r\n  output$info2=renderInfoBox({\r\n    infoBox(\r\n      str_c('sd of ',as.character(input$var2)),\r\n      tb() %>% select(input$var2) %>% as.matrix() %>%\r\n        sd(na.rm=T) %>% format(digits=3),\r\n      'description',\r\n      icon=icon('face-smile'),color='yellow')\r\n  })\r\n  \r\n  output$info3=renderInfoBox({\r\n    infoBox(\r\n      'information start time',\r\n      now(),\r\n      'description',\r\n      icon=icon('face-smile'),color='red')\r\n  })\r\n\r\n  output$tbl1=DT::renderDataTable(\r\n    datatable(tb(),\r\n              options=list(\r\n                pageLength=10,\r\n                searching=T,\r\n                scrollY='300px',\r\n                scrollX=T)))\r\n\r\n  output$smr1=renderPrint({\r\n    arsenal::tableby(~., tb()) %>% summary(text = T)\r\n  })\r\n  \r\n  output$plt1=renderPlot(\r\n    tb()[row1()[1]:row1()[2],] %>%\r\n      select(input$var1) %>%\r\n      as.matrix() %>%\r\n      hist())\r\n\r\n  output$plt2=renderPlot(\r\n    tb()[row1()[1]:row1()[2],] %>%\r\n      select(input$var1) %>%\r\n      as.matrix() %>% \r\n      plot(type='l')) \r\n    \r\n  output$plt3=renderPlot(\r\n    tb()[row1()[1]:row1()[2],] %>%\r\n      select(input$var1,input$var2) %>%\r\n      plot())\r\n    \r\n  output$dl=downloadHandler(\r\n    filename='download.csv',\r\n    content=function(file){\r\n      write_csv(tb()[row1()[1]:row1()[2],],file)\r\n    }\r\n  )\r\n  \r\n  output$message=renderText('')\r\n})","type":"text"},{"name":"ui.R","content":"library(shiny)\r\nlibrary(shinydashboard)\r\nlibrary(DT)\r\n\r\nshinyUI(\r\n  fluidPage(\r\n    dashboardPage(skin='black',\r\n      dashboardHeader(\r\n        title='Shiny Dashboard Sample',\r\n        disable=F,titleWidth='20vw'),\r\n      dashboardSidebar(\r\n        sidebarMenu(id='menu1',\r\n          fileInput('upld','Upload data file',accept = c('text/csv')),\r\n          \r\n          varSelectInput('var1','Select variable1',data=''),\r\n          varSelectInput('var2','Select variable2',data=''),\r\n\r\n          menuItem('See whole table',tabName='table0'),\r\n          menuItem('See histgram of var1',tabName='hist0'),\r\n          menuItem('See line of var1',tabName='line0'),\r\n          menuItem('See scatter plot (var1,var2)',tabName='scatter0'),\r\n          \r\n          sliderInput('row1','Row range for plot',min=1,max=10,value=c(1,10)),\r\n          actionButton('update1','update range'),\r\n          downloadButton('dl','download',style='margin-left:15px;' ),\r\n\r\n          textOutput('message')\r\n        )\r\n      ),\r\n      dashboardBody(\r\n        tags$head(\r\n          tags$style(HTML('.contents-wrapper{font-size:22px;}',\r\n                          '.main-sidebar{font-size:18px;}'))),  \r\n        fluidRow(\r\n          valueBoxOutput('val1'),\r\n          valueBoxOutput('val2'),\r\n          valueBoxOutput('val3')\r\n        ),\r\n        fluidRow(\r\n          infoBoxOutput('info1'),\r\n          infoBoxOutput('info2'),\r\n          infoBoxOutput('info3')\r\n        ),\r\n        tabItems(\r\n          tabItem(tabName='table0',\r\n                  box(width=8,\r\n                      title='table',\r\n                      status='primary',\r\n                      solidHeader=T,\r\n                      style='height:450px;',\r\n                      dataTableOutput('tbl1'),\r\n                  ),\r\n                  fluidRow(\r\n                    column(width=4,\r\n                      box(width=12,\r\n                          title='summary',\r\n                          status='info',\r\n                          solidHeader=T,\r\n                          collapsible=T,\r\n                          collapsed=T,\r\n                          style='height:450px;\r\n                                overflow-y:scroll;',\r\n                          verbatimTextOutput('smr1'),\r\n                          tags$head(tags$style('#smr1{font-size:10px;}')),\r\n                      ),\r\n                      box(width=12,\r\n                          title='input UI 1',\r\n                          status='info',\r\n                          solidHeader=T,\r\n                          collapsible=T,\r\n                          collapsed=T,\r\n                          style='height:450px;',\r\n                          numericInput('num1','input Number1',\r\n                                       value=0,min=0,max=100),\r\n                          sliderInput('num2','input number2',\r\n                                      value=0,min=0,max=100),\r\n                          sliderInput('num3','input range1',\r\n                                      value=c(0,100),min=0,max=100),\r\n                          dateInput('day1','input date1'),\r\n                          dateRangeInput('day2','input date range'),\r\n                      ),\r\n                      box(width=12,\r\n                          title='input UI 2',\r\n                          status='info',\r\n                          solidHeader=T,\r\n                          collapsible=T,\r\n                          collapsed=T,\r\n                          style='height:300px;',\r\n                          selectInput('sel1','choose one',\r\n                                      c('item1','item2','item3')),\r\n                          radioButtons('rd1','check one',\r\n                                       c('item1','item2','item3')),\r\n                          checkboxInput('ch1','check1'),\r\n                          checkboxInput('ch2','check2'),\r\n                      ),\r\n                    )\r\n                  )\r\n                ),\r\n\r\n          tabItem(tabName='hist0',\r\n                  box(title='hist',\r\n                      status='success',\r\n                      solidHeader=T,\r\n                      plotOutput('plt1',height=300),\r\n                      height=400),\r\n                  box('box',\r\n                      status='info',\r\n                      solidHeader=T)\r\n                  ),\r\n          \r\n          tabItem(tabName='line0',\r\n                  box(title='line',\r\n                      status='warning',\r\n                      solidHeader=T,\r\n                      plotOutput('plt2',height=300),\r\n                      height=400),\r\n                  box('box',\r\n                      status='info',\r\n                      solidHeader=T)\r\n                  ),\r\n          \r\n          tabItem(tabName='scatter0',\r\n                  box(title='scatter',\r\n                      status='danger',\r\n                      solidHeader=T,\r\n                      plotOutput('plt3',height=300),\r\n                      height=400),\r\n                  box('box',\r\n                      status='info',\r\n                      solidHeader=T)\r\n                  )\r\n        )\r\n      )\r\n    )\r\n  )\r\n)\r\n","type":"text"},{"name":"shinydashboard1.Rproj","content":"Version: 1.0\n\nRestoreWorkspace: Default\nSaveWorkspace: Default\nAlwaysSaveHistory: Default\n\nEnableCodeIndexing: Yes\nUseSpacesForTab: Yes\nNumSpacesForTab: 2\nEncoding: UTF-8\n\nRnwWeave: Sweave\nLaTeX: pdfLaTeX\n","type":"text"}]
